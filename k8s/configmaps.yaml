apiVersion: v1
kind: ConfigMap
metadata:
  name: api-gateway-config
  namespace: ecommerce
data:
  APP_PORT: "8080"
  APP_ENV: "production"
  ALLOWED_ORIGINS: "*"
  ALLOWED_METHODS: "GET,POST,PUT,PATCH,DELETE,OPTIONS"
  ALLOWED_HEADERS: "Accept,Authorization,Content-Type,X-Request-ID"
  RATE_LIMIT_REQUESTS: "100"
  RATE_LIMIT_WINDOW_SECONDS: "60"
  USER_SERVICE_URL: "user-service:50051"
  PRODUCT_SERVICE_URL: "product-service:50053"
  CART_SERVICE_URL: "cart-service:50057"
  ORDER_SERVICE_URL: "order-service:50055"
  REQUEST_TIMEOUT_SECONDS: "30"
  IDLE_TIMEOUT_SECONDS: "120"
  READ_TIMEOUT_SECONDS: "15"
  WRITE_TIMEOUT_SECONDS: "15"
  SERVICE_NAME: "api-gateway"
---
apiVersion: v1
kind: ConfigMap
metadata:
  name: user-service-config
  namespace: ecommerce
data:
  APP_PORT: "8080"
  APP_ENV: "production"
  DB_DRIVER: "postgres"
  DB_MAX_IDLE_CONNS: "10"
  DB_MAX_OPEN_CONNS: "100"
  DB_MAX_CONN_LIFETIME_MINUTES: "60"
  DB_MIGRATION_AUTO_RUN: "true"
  GRPC_PORT: "50051"
  SERVICE_NAME: "user-service"
---
apiVersion: v1
kind: ConfigMap
metadata:
  name: product-service-config
  namespace: ecommerce
data:
  APP_PORT: "8080"
  APP_ENV: "production"
  DB_DRIVER: "postgres"
  DB_MAX_IDLE_CONNS: "10"
  DB_MAX_OPEN_CONNS: "100"
  DB_MAX_CONN_LIFETIME_MINUTES: "60"
  DB_MIGRATION_AUTO_RUN: "true"
  GRPC_PORT: "50053"
  REDIS_ENABLED: "true"
  REDIS_HOST: "product-redis"
  REDIS_PORT: "6379"
  REDIS_PASSWORD: ""
  REDIS_DB: "0"
  SERVICE_NAME: "product-service"
---
apiVersion: v1
kind: ConfigMap
metadata:
  name: cart-service-config
  namespace: ecommerce
data:
  APP_PORT: "8086"
  APP_ENV: "production"
  GRPC_PORT: "50057"
  PRODUCT_SERVICE_GRPC_ADDR: "product-service:50053"
  USER_SERVICE_GRPC_ADDR: "user-service:50051"
  REDIS_ENABLED: "true"
  REDIS_HOST: "cart-redis"
  REDIS_PORT: "6379"
  REDIS_PASSWORD: ""
  REDIS_DB: "0"
  SERVICE_NAME: "cart-service"
  DOWNSTREAM_TIMEOUT_SECONDS: "3"
---
apiVersion: v1
kind: ConfigMap
metadata:
  name: order-service-config
  namespace: ecommerce
data:
  APP_PORT: "8085"
  APP_ENV: "production"
  DB_DRIVER: "postgres"
  DB_MAX_IDLE_CONNS: "10"
  DB_MAX_OPEN_CONNS: "100"
  DB_MAX_CONN_LIFETIME_MINUTES: "60"
  DB_MIGRATION_AUTO_RUN: "true"
  GRPC_PORT: "50055"
  PRODUCT_SERVICE_GRPC_ADDR: "product-service:50053"
  USER_SERVICE_GRPC_ADDR: "user-service:50051"
  SERVICE_NAME: "order-service"
