apiVersion: v1
kind: ConfigMap
metadata:
  name: api-gateway-config
  namespace: ecommerce
data:
  APP_PORT: "8080"
  APP_ENV: "production"
  ALLOWED_ORIGINS: "*"
  ALLOWED_METHODS: "GET,POST,PUT,PATCH,DELETE,OPTIONS"
  ALLOWED_HEADERS: "Accept,Authorization,Content-Type,X-Request-ID"

  RATE_LIMIT_REQUESTS: "100"
  RATE_LIMIT_WINDOW_SECONDS: "60"

  USER_SERVICE_URL: "userservice.ecommerce.svc.cluster.local:50051"
  PRODUCT_SERVICE_URL: "productservice.ecommerce.svc.cluster.local:50053"
  CART_SERVICE_URL: "cartservice.ecommerce.svc.cluster.local:50057"
  ORDER_SERVICE_URL: "orderservice.ecommerce.svc.cluster.local:50055"

  CIRCUIT_BREAKER_ENABLED: "true"
  CIRCUIT_BREAKER_MAX_REQUESTS: "5"
  CIRCUIT_BREAKER_TIMEOUT: "60"
  CIRCUIT_BREAKER_FAILURE_RATIO: "0.5"

  REQUEST_TIMEOUT_SECONDS: "30"
  READ_TIMEOUT_SECONDS: "15"
  WRITE_TIMEOUT_SECONDS: "15"
  IDLE_TIMEOUT_SECONDS: "120"

  SERVICE_NAME: "api-gateway"

